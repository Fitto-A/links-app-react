(this["webpackJsonplinks-app-firebase"]=this["webpackJsonplinks-app-firebase"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(14),s=n.n(r),i=n(18),o=(n(29),i.a.initializeApp({apiKey:"AIzaSyBYwK_iSH5QxWLYzVP8lBJmWMhYeRZoqXA",authDomain:"links-app-firebase.firebaseapp.com",projectId:"links-app-firebase",storageBucket:"links-app-firebase.appspot.com",messagingSenderId:"530532486382",appId:"1:530532486382:web:a450aeee0ebd6e25c3b7ff"}).firestore()),l=n(9),d=n(8),u=n(7),j=n.n(u),b=n(12),f=n(13),p=n(15),m=n(2),O=function(e){var t={url:"",name:"",description:""},n=Object(a.useState)(t),c=Object(f.a)(n,2),r=c[0],s=c[1],i=function(e){var t=e.target,n=t.name,a=t.value;s(Object(d.a)(Object(d.a)({},r),{},Object(p.a)({},n,a)))},u=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.collection("links").doc(t).get();case 2:n=e.sent,s(Object(d.a)({},n.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){""===e.currentId?s(Object(d.a)({},t)):u(e.currentId)}),[e.currentId]),Object(m.jsxs)("form",{className:"form-container",onSubmit:function(n){if(n.preventDefault(),a=r.url,!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a))return Object(l.b)("Url Inv\xe1lido",{type:"warning",autoClose:2e3});var a;e.addOrEditLink(r),s(Object(d.a)({},t))},children:[Object(m.jsx)("div",{className:"form-input",children:Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("i",{className:"material-icons",children:"insert_link"}),Object(m.jsx)("input",{type:"text",className:"form-input-url",placeholder:"https://url.com",name:"url",onChange:i,value:r.url})]})}),Object(m.jsx)("div",{className:"form-input",children:Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("i",{className:"material-icons",children:"create"}),Object(m.jsx)("input",{type:"text",className:"form-input-web",placeholder:"Website Name",name:"name",onChange:i,value:r.name})]})}),Object(m.jsx)("div",{className:"form-input",children:Object(m.jsx)("div",{className:"form-container",children:Object(m.jsx)("textarea",{className:"form-textarea",name:"description",rows:"3",placeholder:"Escribe una descripci\xf3n",onChange:i,value:r.description})})}),Object(m.jsx)("button",{className:"btn",children:""===e.currentId?"Guardar":"Actualizar"})]})},h=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(f.a)(r,2),i=s[0],u=s[1],p=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==i){e.next=7;break}return e.next=4,o.collection("links").doc().set(t);case 4:Object(l.b)("Nuevo enlace agregado",{type:"success"}),e.next=10;break;case 7:return e.next=9,o.collection("links").doc(i).update(t);case 9:Object(l.b)("Enlace actualizado",{type:"info"});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){h()}),[]);var h=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.collection("links").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),c(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Estas seguro de que deseas eliminar el enlace?")){e.next=4;break}return e.next=3,o.collection("links").doc(t).delete();case 3:Object(l.b)("Enlace removido",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{addOrEditLink:p,currentId:i,links:n}),Object(m.jsx)("div",{className:"links",children:n.map((function(e){var t=e.id,n=e.name,a=e.url,c=e.description;return Object(m.jsxs)("div",{className:"link-container",children:[Object(m.jsx)("div",{className:"link-container-divider"}),Object(m.jsxs)("div",{className:"link-container-top",children:[Object(m.jsxs)("div",{className:"name-container",children:[Object(m.jsx)("h4",{children:n}),Object(m.jsxs)("div",{className:"icons-container",children:[Object(m.jsx)("i",{className:"material-icons edit",onClick:function(){return u(t)},children:"create"}),Object(m.jsx)("i",{className:"material-icons close",onClick:function(){return x(t)},children:"close"})]})]}),Object(m.jsx)("p",{children:c})]}),Object(m.jsxs)("div",{className:"web-container",children:[Object(m.jsx)("span",{className:"text",children:"Go to web"}),Object(m.jsx)("div",{className:"link",children:Object(m.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:Object(m.jsx)("i",{className:"material-icons site",children:"network_cell"})})})]}),Object(m.jsx)("div",{className:"link-container-divider2"})]},t)}))})]})})};n(26);var x=function(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(h,{}),Object(m.jsx)(l.a,{})]})};n(27);s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.ad1e6128.chunk.js.map